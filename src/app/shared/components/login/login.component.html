<!-- Contenedor flotante (derecha) -->
<div class="notification-container">
  <ng-container *ngFor="let notification of notifications; let i = index">
    <app-notifications
      *ngIf="notification.container === 0 && notification.visible"
      [title]="notification.title"
      [type]="notification.type"
      [alertType]="notification.alertType"
      (close)="removeNotification(i)"
    ></app-notifications>
  </ng-container>
</div>

<!-- Contenedor superior -->
<div class="notification-container-1 p-1 w-100">
  <ng-container *ngFor="let notification of notifications; let i = index">
    <app-notifications
      *ngIf="notification.container === 1 && notification.visible"
      [title]="notification.title"
      [type]="notification.type"
      [alertType]="notification.alertType"
      (close)="removeNotification(i)"
    ></app-notifications>
  </ng-container>
</div>

<div class="d-flex justify-content-center align-items-center min-vh-100">
  <div class="row login-container">
    <div class="col-md-3 col-lg-4 d-none d-md-block"></div>
    <div class="col-sm-12 col-md-6 col-lg-4 p-5">
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" autocomplete="on">
        <div class="card shadow-lg p-4 custom-card cuadroPrincipal">
          <div class="row justify-content-center w-130">
            <a
              class="navbar-brand mb-2 mb-lg-0 d-flex justify-content-center"
              href="#"
            >
              <img
                src="./assets/img/logo_authoriza_v2.png"
                alt="Logo"
                class="logo-img"
              />
            </a>
          </div>
          <br />
          <h3 class="text-center custom-welcome">Welcome</h3>
          <hr style="border: 2px solid rgb(255, 255, 255)" />

          <!-- Campo Email -->
          <div class="mb-3 fieldsForm">
            <div class="input-group">
              <span class="input-group-text bg-transparent border-end-0">
                <svg
                  fill="currentColor"
                  viewBox="0 0 16 16"
                  style="
                    width: 1rem;
                    height: 1rem;
                    color: var(--primary_active_text_color);
                  "
                >
                  <use
                    xlink:href="./assets/icons/bootstrap-icons.svg#envelope"
                  />
                </svg>
              </span>
              <input
                type="email"
                class="form-control custom-search-input border-start-0"
                placeholder="Email"
                formControlName="username"
                autocomplete="username"
              />
            </div>
            <div
              class="errorMsg mt-1"
              *ngIf="
                loginForm.get('username')?.touched &&
                loginForm.get('username')?.invalid
              "
            >
              <small *ngIf="loginForm.get('username')?.errors?.['required']"
                >Email is required.</small
              >
              <small *ngIf="loginForm.get('username')?.errors?.['email']"
                >Invalid email format.</small
              >
            </div>
          </div>

          <!-- Campo Contraseña -->
          <div class="mb-3 fieldsForm">
            <div class="input-group">
              <span class="input-group-text bg-transparent border-end-0">
                <svg
                  fill="currentColor"
                  viewBox="0 0 16 16"
                  style="
                    width: 1rem;
                    height: 1rem;
                    color: var(--primary_active_text_color);
                  "
                >
                  <use xlink:href="./assets/icons/bootstrap-icons.svg#lock" />
                </svg>
              </span>
              <input
                [type]="showPassword ? 'text' : 'password'"
                class="form-control custom-search-input border-start-0 border-end-0"
                placeholder="Password"
                formControlName="password"
                autocomplete="current-password"
              />
              <button
                type="button"
                class="input-group-text bg-transparent border-start-0"
                (click)="togglePasswordVisibility()"
              >
                <svg
                  fill="currentColor"
                  viewBox="0 0 16 16"
                  style="
                    width: 1rem;
                    height: 1rem;
                    color: var(--primary_active_text_color);
                  "
                >
                  <use
                    [attr.xlink:href]="
                      showPassword
                        ? './assets/icons/bootstrap-icons.svg#eye-slash'
                        : './assets/icons/bootstrap-icons.svg#eye'
                    "
                  />
                </svg>
              </button>
            </div>
            <div
              class="errorMsg mt-1"
              *ngIf="
                loginForm.get('password')?.touched &&
                loginForm.get('password')?.invalid
              "
            >
              <small *ngIf="loginForm.get('password')?.errors?.['required']">
                Password is required.
              </small>
              <small *ngIf="loginForm.get('password')?.errors?.['minlength']">
                Minimum 6 characters.
              </small>
            </div>
          </div>

          <hr style="border: 2px solid rgb(255, 255, 255)" />

          <!-- Botón -->
          <div class="d-flex justify-content-center">
            <button
              type="submit"
              class="custom-btn"
              [disabled]="loginForm.invalid"
            >
              Sign in
            </button>
          </div>

          <!-- Link -->
          <div class="text-center mt-3">
            <a href="#" class="forgot-password-link">Forgot your password?</a>
          </div>
        </div>
      </form>
    </div>
    <div class="col-md-3 col-lg-4 d-none d-md-block"></div>
  </div>
</div>
